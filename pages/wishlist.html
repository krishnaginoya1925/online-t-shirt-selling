<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ecommerce website</title>
  <link rel="stylesheet" href="../css/wishlist.css" />
  <script src="https://kit.fontawesome.com/0e53af926d.js" crossorigin="anonymous"></script>
</head>
<body>
  <!--header section-->
  <header>
    <div id="header">
      <div class="header-logo">
        <a href="indext.html"><img src="../images/logo.png" alt="" /></a>
      </div>
      <div class="header-list">
        <nav class="header-list-nav">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="collection.html">Collection</a></li>
            <li><a href="category.html">Category</a></li>
            <li><a href="contact-us.html">Contact Us</a></li>
          </ul>
        </nav>
        <header class="header-icons">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
          <div class="header-list-icon">
            <a href="cart.html"><i class="fa fa-bag-shopping"></i></a>
          </div>
          <div class="icon-box">
            <a class="active" href="wishlist.html" class="wishlist-link" aria-label="Open wishlist">
              <i class="fa-regular fa-heart"></i>
            </a>
          </div>
          <div class="account-container">
            <div class="icon-box" id="accountBtn">
              <i class="fa-solid fa-user"></i>
            </div>
            <div class="account-dropdown" id="accountDropdown">
              <a href="profile.html">Profile</a>
              <a href="login.html">Login</a>
              <a href="#" id="logoutBtn">Logout</a>
            </div>
          </div>
      </div>
    </div>
  </header>
  </header>
  <h1 class="title">My Wishlist</h1>
  <div class="wishlist-container" id="wishlistBox"></div>
  <main>
    <section id="newsletter">
      <div class="newsletter-text">
        <h3>Sign Up For Newsletters</h3>
        <h5>get e-mail updates about out latest shop and <span>special offers</span></h5>
      </div>
      <div class="form">
        <input type="email" placeholder="Your email address" id="email-address-input">
        <button>Sign Up</button>
      </div>
    </section>
  </main>
  <!--footer section-->
  <footer>
    <div id="footer">
      <div class="contact">
        <a href="indext.html"><img src="images/logo.png" alt="" /></a>
        <br> <br>
        <br>
        <h3>Contact</h3>
        <address>
          <p><b>Address:</b> Wellington Road, Street 32. San Francisco</p>
          <p><b>Phone:</b> Wellington Road, Street 32. San Francisco</p>
          <p><b>Hours</b> 10:00 - 18:00. Mon - Sat</p>
        </address>
        <h3>Follow Us</h3>
        <br>
        <div class="socials">
          <a href="#"><i class="fa-brands fa-facebook-square"></i></a>
          <a href="#"><i class="fa-brands fa-youtube"></i></a>
          <a href="#"><i class="fa-brands fa-telegram"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-twitter"></i></a>
        </div>
      </div>
      <div class="about">
        <h3>About</h3>
        <br>
        <a href="#">About Us</a>
        <a href="#">Delivery Information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <a href="#">Contact Us</a>
      </div>
      <div class="myaccount ">
        <h3>My account</h3>
        <br>
        <a href="#">Sign In</a>
        <a href="#">View Cart</a>
        <a href="#">My Wishlist</a>
        <a href="#">Track My Order</a>
        <a href="#">Help</a>
      </div>
      <div class="install">
        <h3>Install App</h3>
        <br>
        <p>From App Store or Google Play</p>
        <div class="download">
          <a href="#"><img src="images/pay/app.jpg" alt=""></a>
          <a href="#"><img src="images/pay/play.jpg" alt=""></a>
        </div>
        <p>Secured Payment Gateways</p>
        <img src="images/pay/pay.png" alt="">
      </div>
    </div>
  </footer>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const accountBtn = document.getElementById("accountBtn");
      const dropdown = document.getElementById("accountDropdown");
      if (accountBtn) {
        accountBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          dropdown.classList.toggle("show");
        });
        document.addEventListener("click", () => {
          dropdown.classList.remove("show");
        });
      }
      document.getElementById("logoutBtn")?.addEventListener("click", () => {
        alert("Logged out successfully");
      });
      /* ================= WISHLIST ================= */
      let wishlistData = JSON.parse(localStorage.getItem("wishlist")) || [];
      const container = document.getElementById("wishlistBox");
      if (!container) return;
      function loadWishlist() {
        container.innerHTML = "";
        if (wishlistData.length === 0) {
          container.innerHTML =
            "<h2 style='grid-column:1/-1;text-align:center;'>No items in wishlist</h2>";
          return;
        }
        wishlistData.forEach(item => {
          const price = Number(item.price) || 0;
          container.innerHTML += `
        <div class="wishlist-item" id="item-${item.id}">
          <img src="${item.img}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p>$ ${price}</p>
          <div class="btn-row">
            <button class="remove-btn" onclick="removeItem('${item.id}')">
              Remove
            </button>
            <button class="cart-btn" onclick="moveToCart('${item.id}')">
              Add to Cart
            </button>
          </div>
        </div>
      `;
        });
      }
      /* ================= REMOVE FROM WISHLIST ================= */
      window.removeItem = function (id) {
        wishlistData = wishlistData.filter(item => item.id !== id);
        localStorage.setItem("wishlist", JSON.stringify(wishlistData));
        loadWishlist();
      };
      /* ================= ADD TO CART + REDIRECT ================= */
      window.moveToCart = function (id) {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const item = wishlistData.find(i => i.id === id);
        if (!item) return;
        localStorage.setItem("cart", JSON.stringify(cart));
        alert("Item added to cart");
        window.location.href = "cart.html";
      };
      loadWishlist();
    });
  </script>
</body>
</html>